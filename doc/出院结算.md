## 预结算
过程如下:
    1. 判断患者类别,如果是医保患者需要读卡后调用医保接口做预结算处理
	2. 计算患者本次住院的总费用,预交金总额，根据医保接口计算出需要患者本次支付的部分
	3. 患者本次结算应该返还金额 = 预交金总额 - 本次支付金额,不论以前交的是何种方式，都采用退现金方式。
	4. 写入t_discharge 出院结算临时表

## 出院结算
过程如下:
    1. 判断患者类别,如果是医保患者需要读卡后调用医保接口做预结算处理
	2. 计算患者本次住院的总费用,预交金总额，根据医保接口(预结算记录表)计算出需要患者本次支付的部分
	3. 患者本次结算应该返还金额 = 预交金总额 - 本次支付金额,不论以前交的是何种方式，都采用退现金方式。
	4. 写入discharge 出院结算表
	5. 计算费用分项,写入出院结算费用分项表discharge_fee
	6. 如果是医保患者，写入出院结算医保信息明细表discharge_mi
	7. 写入出院结算打印收据表discharge_prn 
	8. 写入支付明细表cash_set 每次结算时支付方式、各项支付金额明细，(本次主要是退现金款)
	9. 转入院登记信息为住院登记信息
	10. 转在院费用明细为出院费用明细
	11. 转在院预交金表为出院预交金表
	12. 转在院医嘱为出院医嘱
	13. 转在院处方表为出院处方表
    14. 转入院登记图片为出院登记图片
## 出院登记
过程如下:
    1. 更新入院登记表状态为出院登记状态,in_cancel如果不等于Y，说明不是取消入院状态，更新为REGOUT
	2. 写入出院登记表adm_reg_chkout
	3. 如果是医保患者,调用医保接口做出院登记
	
	
	
